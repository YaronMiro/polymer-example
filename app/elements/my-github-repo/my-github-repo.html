<dom-module id="my-github-repo">
  <style>
    :host {
      display: block;
    }

    input {
      width: 100%;
    }

  </style>
  <template>
    <p>{{owner}}/{{name}}</p>
    <span class="paper-font-body2">Fill the fields to get an info about the repository (only for public repositories)
    <br>
    <span>e.g: YaronMiro/AngularJS-UI-Router-Demo</span>
    </span>
    <!-- Listens for "input" event and sets the target repository to <input>.value -->
    <paper-input label="Owner" class="paper-font-body2" value="{{owner::input}}"></paper-input>
    <paper-input label="Name" class="paper-font-body2" value="{{name::input}}"></paper-input>

    <!-- Ajax call to Github API -->
    <!-- https://api.github.com/repos/YaronMiro/AngularJS-UI-Router-Demo -->
    <iron-ajax auto
        url="setValue"
        handle-as="json"
        last-response="{{ajaxResponse}}"></iron-ajax>

    <section>
      <a href="{{ajaxResponse.html_url}}">{{ajaxResponse.full_name}}</a>
      <iron-image style="width:100px; height:100px;" sizing="contain" src="{{ajaxResponse.owner.avatar_url}}"></iron-image>
    </section>
  </template>

  <script>
    (function() {
      Polymer({
        is: 'my-github-repo',
        properties: {
          owner: {
            type: String,
            value: 'YaronMiro',
            notify: true
          },
          name: {
            type: String,
            value: 'AngularJS-UI-Router-Demo',
            notify: true
          },
          getUrl: function() {N
          return 'https://api.github.com/repos/' + this.targetRepository;
          }
        }
      });
    })();
  </script>

</dom-module>
